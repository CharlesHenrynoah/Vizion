"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/create/page",{

/***/ "(app-pages-browser)/./app/actions/gemini-integration.ts":
/*!*******************************************!*\
  !*** ./app/actions/gemini-integration.ts ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createProjectTicketsInDB: () => (/* binding */ createProjectTicketsInDB),\n/* harmony export */   enhanceProjectDescription: () => (/* binding */ enhanceProjectDescription),\n/* harmony export */   generateFeatureIdeas: () => (/* binding */ generateFeatureIdeas),\n/* harmony export */   generateProjectTickets: () => (/* binding */ generateProjectTickets),\n/* harmony export */   generateProjectTicketsFormatted: () => (/* binding */ generateProjectTicketsFormatted),\n/* harmony export */   generateSubTicketWithAI: () => (/* binding */ generateSubTicketWithAI),\n/* harmony export */   generateWithGemini: () => (/* binding */ generateWithGemini)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ \"(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js\");\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_action_entry_do_not_use__ {\"40ca63b7f481f0a4637d6703757ade11dbc432b33f\":\"generateWithGemini\",\"60348a3d22f5fdc032b6f0c5e9a206f41ba92c7613\":\"generateProjectTicketsFormatted\",\"60e43038304b949708f931d67e30ae56439d80a131\":\"enhanceProjectDescription\",\"60f5a7114ae525e767818b612bb897003e4c41d417\":\"generateProjectTickets\",\"702fa7f27033e51b684cce0d176a6f8525bec0b0d4\":\"generateSubTicketWithAI\",\"709c1ed9de5d27665d21214e67e5e216b62062f6e3\":\"generateFeatureIdeas\",\"70fe2b21fda754924c839b23a029c64c76a56780ef\":\"createProjectTicketsInDB\"} */ \nvar generateWithGemini = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40ca63b7f481f0a4637d6703757ade11dbc432b33f\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"generateWithGemini\");\nvar enhanceProjectDescription = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"60e43038304b949708f931d67e30ae56439d80a131\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"enhanceProjectDescription\");\nvar generateFeatureIdeas = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"709c1ed9de5d27665d21214e67e5e216b62062f6e3\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"generateFeatureIdeas\");\nvar generateProjectTickets = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"60f5a7114ae525e767818b612bb897003e4c41d417\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"generateProjectTickets\");\nvar generateProjectTicketsFormatted = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"60348a3d22f5fdc032b6f0c5e9a206f41ba92c7613\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"generateProjectTicketsFormatted\");\nvar createProjectTicketsInDB = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"70fe2b21fda754924c839b23a029c64c76a56780ef\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"createProjectTicketsInDB\");\nvar generateSubTicketWithAI = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"702fa7f27033e51b684cce0d176a6f8525bec0b0d4\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"generateSubTicketWithAI\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9hY3Rpb25zL2dlbWluaS1pbnRlZ3JhdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0lBS3NCQSxtQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBbUJBQywwQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBc0JBQyxxQ0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBc0NBQyx1Q0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBa0xBQyxnREFBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBZ0dBQyx5Q0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBO0lBeUhBQyx3Q0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvY2hhcmxlcy1oZW5yeW5vYWgvRGVza3RvcC92aXppb24vVml6aW9uL2FwcC9hY3Rpb25zL2dlbWluaS1pbnRlZ3JhdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIlxuXG5pbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tIFwiQGdvb2dsZS9nZW5lcmF0aXZlLWFpXCJcblxuLy8gQ2V0dGUgZm9uY3Rpb24gZG9pdCDDqnRyZSBleMOpY3V0w6llIHVuaXF1ZW1lbnQgY8O0dMOpIHNlcnZldXJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVdpdGhHZW1pbmkocHJvbXB0OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICB0cnkge1xuICAgIC8vIEluaXRpYWxpc2VyIGwnQVBJIEdlbWluaSBhdmVjIGxhIGNsw6kgQVBJXG4gICAgY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKHByb2Nlc3MuZW52LkdPT0dMRV9BSV9BUElfS0VZIHx8IFwiXCIpXG5cbiAgICAvLyBBY2PDqWRlciBhdSBtb2TDqGxlIEdlbWluaSAyLjAgRmxhc2hcbiAgICBjb25zdCBtb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7IG1vZGVsOiBcImdlbWluaS0yLjAtZmxhc2hcIiB9KVxuXG4gICAgLy8gR8OpbsOpcmVyIGR1IGNvbnRlbnVcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQocHJvbXB0KVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVzdWx0LnJlc3BvbnNlXG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgbG9ycyBkZSBsYSBnw6luw6lyYXRpb24gYXZlYyBHZW1pbmk6XCIsIGVycm9yKVxuICAgIHJldHVybiBcIlVuZSBlcnJldXIgcydlc3QgcHJvZHVpdGUgbG9ycyBkZSBsYSBnw6luw6lyYXRpb24gZGUgY29udGVudS5cIlxuICB9XG59XG5cbi8vIEZvbmN0aW9uIHBvdXIgYW3DqWxpb3JlciBsYSBkZXNjcmlwdGlvbiBkJ3VuIHByb2pldFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuaGFuY2VQcm9qZWN0RGVzY3JpcHRpb24ocHJvamVjdE5hbWU6IHN0cmluZywgaW5zcGlyYXRpb25zOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBwcm9tcHQgPSBgXG4gICAgQ3JlYXRlIGEgZnVuY3Rpb25hbCBkZXNjcmlwdGlvbiBmb3IgYSBwcm9qZWN0IGluc3BpcmVkIGJ5OiBcIiR7aW5zcGlyYXRpb25zfVwiLlxuICAgIFxuICAgIEluc3RydWN0aW9uczpcbiAgICAxLiBJbWFnaW5lIHRoaXMgcHJvamVjdCBhcyBhIGh5YnJpZCB0aGF0IGNvbWJpbmVzIHRoZSBiZXN0IGZlYXR1cmVzIGZyb20gYWxsIHRoZSBpbnNwaXJhdGlvbnMgbWVudGlvbmVkLlxuICAgIDIuIERlc2NyaWJlIDMtNSBrZXkgaW5ub3ZhdGl2ZSBmZWF0dXJlcyB0aGF0IHdvdWxkIG1ha2UgdGhpcyBwcm9qZWN0IHN0YW5kIG91dC5cbiAgICAzLiBGb2N1cyBvbiBmdW5jdGlvbmFsaXR5LCB1c2VyIGV4cGVyaWVuY2UsIGFuZCB0ZWNobmljYWwgY2FwYWJpbGl0aWVzLlxuICAgIDQuIEtlZXAgdGhlIHRvbmUgcHJvZmVzc2lvbmFsIGJ1dCBlbmdhZ2luZy5cbiAgICA1LiBUaGUgZGVzY3JpcHRpb24gbXVzdCBiZSBpbiBFbmdsaXNoLlxuICAgIDYuIExpbWl0IHlvdXIgcmVzcG9uc2UgdG8gZXhhY3RseSA1MDAgY2hhcmFjdGVycy5cbiAgICA3LiBETyBOT1QgaW5jbHVkZSBhbnkgcHJlZml4ZXMsIGxhYmVscywgb3IgZm9ybWF0dGluZyAtIGp1c3Qgb3V0cHV0IHRoZSBwdXJlIGRlc2NyaXB0aW9uIHRleHQuXG4gICAgOC4gRE8gTk9UIHN0YXJ0IHdpdGggdGhlIHByb2plY3QgbmFtZSBvciBcIkFJOlwiIG9yIGFueSBvdGhlciBwcmVmaXguXG4gICAgOS4gRE8gTk9UIHVzZSBidWxsZXQgcG9pbnRzIG9yIG51bWJlcmVkIGxpc3RzLlxuICAgIFxuICAgIE91dHB1dCBvbmx5IHRoZSBwcm9qZWN0IGRlc2NyaXB0aW9uIGFzIGEgY29udGludW91cyBwYXJhZ3JhcGggd2l0aCBubyBhZGRpdGlvbmFsIGNvbW1lbnRhcnkuXG4gIGBcblxuICByZXR1cm4gZ2VuZXJhdGVXaXRoR2VtaW5pKHByb21wdClcbn1cblxuLy8gRm9uY3Rpb24gcG91ciBnw6luw6lyZXIgZGVzIGlkw6llcyBkZSBmb25jdGlvbm5hbGl0w6lzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVGZWF0dXJlSWRlYXMoXG4gIHByb2plY3ROYW1lOiBzdHJpbmcsXG4gIHByb2plY3REZXNjcmlwdGlvbjogc3RyaW5nLFxuICBjb3VudCA9IDUsXG4pOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gIGNvbnN0IHByb21wdCA9IGBcbiAgICBHZW5lcmF0ZSAke2NvdW50fSBmZWF0dXJlIGlkZWFzIGZvciBhIHByb2plY3QgbmFtZWQgXCIke3Byb2plY3ROYW1lfVwiIFxuICAgIHdpdGggdGhlIGRlc2NyaXB0aW9uOlxuICAgIFxuICAgIFwiJHtwcm9qZWN0RGVzY3JpcHRpb259XCJcbiAgICBcbiAgICBGb3IgZWFjaCBmZWF0dXJlOlxuICAgIDEuIFByb3ZpZGUgYSBzaG9ydCwgY2F0Y2h5IHRpdGxlICgzLTUgd29yZHMpXG4gICAgMi4gV3JpdGUgYSBjb25jaXNlIGRlc2NyaXB0aW9uICgxNS0yMCB3b3JkcylcbiAgICAzLiBGb2N1cyBvbiBwcmFjdGljYWwgZnVuY3Rpb25hbGl0eSB0aGF0IHVzZXJzIHdvdWxkIHZhbHVlXG4gICAgNC4gQWxsIGNvbnRlbnQgbXVzdCBiZSBpbiBFbmdsaXNoXG4gICAgXG4gICAgRm9ybWF0IHlvdXIgcmVzcG9uc2UgYXMgYSBKU09OIGFycmF5OlxuICAgIFtcbiAgICAgIHtcbiAgICAgICAgXCJ0aXRsZVwiOiBcIkZlYXR1cmUgVGl0bGUgMVwiLFxuICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiQ29uY2lzZSBkZXNjcmlwdGlvbiBvZiBmZWF0dXJlIDFcIlxuICAgICAgfSxcbiAgICAgIC4uLlxuICAgIF1cbiAgYFxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZW5lcmF0ZVdpdGhHZW1pbmkocHJvbXB0KVxuICAgIGNvbnN0IGZlYXR1cmVzID0gSlNPTi5wYXJzZShyZXNwb25zZSlcbiAgICByZXR1cm4gZmVhdHVyZXMubWFwKChmZWF0dXJlOiBhbnkpID0+IGAke2ZlYXR1cmUudGl0bGV9OiAke2ZlYXR1cmUuZGVzY3JpcHRpb259YClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyIGxvcnMgZHUgcGFyc2luZyBkZXMgaWTDqWVzIGRlIGZvbmN0aW9ubmFsaXTDqXM6XCIsIGVycm9yKVxuICAgIHJldHVybiBbXCJFcnJvciBnZW5lcmF0aW5nIGZlYXR1cmUgaWRlYXMuXCJdXG4gIH1cbn1cblxuLy8gRm9uY3Rpb24gcG91ciBnw6luw6lyZXIgZGVzIHRpY2tldHMgZGUgcHJvamV0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVQcm9qZWN0VGlja2V0cyhcbiAgcHJvamVjdE5hbWU6IHN0cmluZyxcbiAgcHJvamVjdERlc2NyaXB0aW9uOiBzdHJpbmdcbik6IFByb21pc2U8YW55W10+IHtcbiAgY29uc3QgcHJvbXB0ID0gYFxuICAgIFR1IGVzIHVuIGFzc2lzdGFudCBleHBlcnQgZW4gcGxhbmlmaWNhdGlvbiBkZSBwcm9qZXRzIGxvZ2ljaWVscywgc3DDqWNpYWxpc8OpIGRhbnMgbGEgY3LDqWF0aW9uIGRlIHTDomNoZXMgcG91ciBkZXMgSUEgSURFIHF1aSBnw6luw6hyZW50IGR1IGNvZGUgUmVhY3QuIFR1IGRvaXMgZMOpY29tcG9zZXIgbGEgZGVzY3JpcHRpb24gZGUgcHJvamV0IGZvdXJuaWUgZW4gdW5lIHN0cnVjdHVyZSBkw6l0YWlsbMOpZSBkZSB0aWNrZXRzIGV0IHNvdXMtdGlja2V0cy5cblxuICAgICoqUHJvamV0IMOgIHBsYW5pZmllciA6KipcbiAgICBOb206IFwiJHtwcm9qZWN0TmFtZX1cIlxuICAgIERlc2NyaXB0aW9uOiBcIiR7cHJvamVjdERlc2NyaXB0aW9ufVwiXG4gICAgXG4gICAgKipDb250cmFpbnRlcyBkZSBSw6lkYWN0aW9uIEVzc2VudGllbGxlcyA6KipcblxuICAgIEZvcm1hdCBTdHJpY3QgZXQgT2JsaWdhdG9pcmUgOlxuICAgIC0gQ2hhcXVlIHRpY2tldCBwcmluY2lwYWwgKGVwaWMpIGRvaXQgYXZvaXIgdW4gdGl0cmUgY29tbWVuw6dhbnQgcGFyIHVuIGVtb2ppIHN1aXZpIGRlIFwiRVBJQyBbTnVtXSAtIFtUaXRyZV1cIlxuICAgIC0gTGEgZGVzY3JpcHRpb24gZGUgY2hhcXVlIGVwaWMgZG9pdCBjb21tZW5jZXIgcGFyIFwiT2JqZWN0aWYgOiBcIiBzdWl2aSBkJ3VuIHRleHRlIGV4cGxpY2F0aWZcbiAgICAtIExlcyBzb3VzLXRpY2tldHMgZG9pdmVudCBhdm9pciB1biBmb3JtYXQgXCJUaWNrZXQgW051bSBFcGljXS5bTnVtIFRpY2tldF0gKFtUeXBlXSkgOiBbVGl0cmVdXCJcbiAgICAtIFByaXZpbMOpZ2llciBsZXMgZGVzY3JpcHRpb25zIGTDqXRhaWxsw6llcyBzb3VzIGZvcm1lIGRlIGxpc3RlIMOgIHB1Y2VzICgtKVxuXG4gICAgVHlwZXMgZGUgRm9uY3Rpb25uYWxpdMOpcyDDoCBDb3V2cmlyIDpcbiAgICAxLiAqKkNvcmUgRmVhdHVyZXMqKiA6IEZvbmN0aW9ubmFsaXTDqXMgcHJpbmNpcGFsZXMgc3DDqWNpZmlxdWVzIGF1IHByb2pldCBkw6ljcml0XG4gICAgMi4gKipBdXRoZW50aWZpY2F0aW9uKiogOiBTeXN0w6htZSBkZSBsb2dpbi9zaWdudXAsIGdlc3Rpb24gZGVzIHNlc3Npb25zLCBwcm9maWxzIHV0aWxpc2F0ZXVyc1xuICAgIDMuICoqQWJvbm5lbWVudHMvUGFpZW1lbnRzKiogOiBQbGFucyBkJ2Fib25uZW1lbnQsIGludMOpZ3JhdGlvbiBkZSBwYWllbWVudCwgZ2VzdGlvbiBkZXMgZmFjdHVyZXMgXG4gICAgNC4gKipGZWF0dXJlcyBUcmFuc3ZlcnNhbGVzKiogOiBOb3RpZmljYXRpb25zLCBwcsOpZsOpcmVuY2VzIHV0aWxpc2F0ZXVyLCB0aMOobWVzLCBpbnRlcm5hdGlvbmFsaXNhdGlvblxuXG4gICAgRm9jdXMgRXhjbHVzaWYgRnJvbnRlbmQgUmVhY3QgOlxuICAgIC0gRMOpY3JpcmUgdW5pcXVlbWVudCBjZSBxdWkgc2UgcGFzc2UgZGFucyBsZSBuYXZpZ2F0ZXVyLCBjw7R0w6kgY2xpZW50XG4gICAgLSBTZSBjb25jZW50cmVyIHN1ciBsZXMgY29tcG9zYW50cyBSZWFjdCwgbGV1ciDDqXRhdCwgbGVzIGludGVyYWN0aW9ucyB1dGlsaXNhdGV1ciBldCBsYSBuYXZpZ2F0aW9uXG4gICAgXG4gICAgQVBJIGNvbW1lIEJvw650ZSBOb2lyZSBFeHRlcm5lIDpcbiAgICAtIETDqWNyaXJlIGxlcyBBUEkgdW5pcXVlbWVudCBkdSBwb2ludCBkZSB2dWUgZHUgZnJvbnRlbmRcbiAgICAtIEluY2x1cmUgbGEgbcOpdGhvZGUgSFRUUCwgbCdVUkwsIGxlcyBkb25uw6llcyBlbnZvecOpZXMvcmXDp3VlcyBldCBjb21tZW50IGwnaW50ZXJmYWNlIHLDqWFnaXRcblxuICAgIFNww6ljaWZpY2l0w6kgUmVhY3QgOlxuICAgIC0gTWVudGlvbm5lciBleHBsaWNpdGVtZW50IGxlcyBub21zIGRlcyBjb21wb3NhbnRzIFJlYWN0IMOgIHV0aWxpc2VyXG4gICAgXG4gICAgVHlwZXMgZGUgVGlja2V0cyBSZXN0cmVpbnRzIDpcbiAgICAtIFV0aWxpc2VyIHVuaXF1ZW1lbnQgbGVzIHR5cGVzIHN1aXZhbnRzIDogKFJlYWN0KSwgKEFQSSBJbnTDqWdyYXRpb24pLCAoUmVhY3QgVUkpLCAoUmVhY3QgUm91dGluZyksIChSZWFjdCBTdGF0ZS9Db250ZXh0KSwgKEZyb250ZW5kIEJlc3QgUHJhY3RpY2VzKSwgKEF1dGgpLCAoU3Vic2NyaXB0aW9uKSwgKFVYL1VJKVxuICAgIFxuICAgICoqU3RydWN0dXJlIMOgIHByb2R1aXJlIDoqKlxuICAgIFxuICAgIFByw6lwYXJlIGV4YWN0ZW1lbnQgNy05IHRpY2tldHMgcHJpbmNpcGF1eCAoRVBJQyksIGRvbnQgOlxuICAgIC0gNC01IEVQSUNzIHBvdXIgbGVzIENvcmUgRmVhdHVyZXMgZHUgcHJvamV0XG4gICAgLSAxLTIgRVBJQ3MgcG91ciBsJ2F1dGhlbnRpZmljYXRpb24gZXQgcHJvZmlsIHV0aWxpc2F0ZXVyXG4gICAgLSAxIEVQSUMgcG91ciBsZXMgYWJvbm5lbWVudHMgZXQgcGFpZW1lbnRzIChzaSBwZXJ0aW5lbnQgcG91ciBsZSBwcm9qZXQpXG4gICAgLSAxLTIgRVBJQ3MgcG91ciBsZXMgZm9uY3Rpb25uYWxpdMOpcyB0cmFuc3ZlcnNhbGVzIChub3RpZmljYXRpb25zLCBwcsOpZsOpcmVuY2VzLCBldGMuKVxuICAgIFxuICAgIENoYXF1ZSBFUElDIGRldnJhaXQgY29udGVuaXIgNC02IHNvdXMtdGlja2V0cy5cbiAgICBcbiAgICBUUsOIUyBJTVBPUlRBTlQ6IFR1IGRvaXMgZ8OpbsOpcmVyIEFVIE1JTklNVU0gMTAgdGlja2V0cyBhdSB0b3RhbCAoRVBJQ3MgKyBzb3VzLXRpY2tldHMpLlxuICAgIFxuICAgIFBvdXIgY2hhcXVlIHRpY2tldCBwcmluY2lwYWwgKEVQSUMpIDpcbiAgICAtIFVuIHRpdHJlIGF1IGZvcm1hdCBcIltFbW9qaV0gRVBJQyBbTnVtXSAtIFtUaXRyZV1cIlxuICAgIC0gVW5lIGRlc2NyaXB0aW9uIGTDqWJ1dGFudCBwYXIgXCJPYmplY3RpZiA6IFwiIFxuICAgIC0gVW4gc3RhdHV0IHF1aSBET0lUIMOqdHJlIFwiVG8gRG9cIlxuICAgIC0gVW5lIHByaW9yaXTDqSAoMSDDoCAzLCBvw7kgMSBlc3QgbGEgcGx1cyDDqWxldsOpZSlcbiAgICBcbiAgICBQb3VyIGNoYXF1ZSBzb3VzLXRpY2tldCA6XG4gICAgLSBVbiB0aXRyZSBzcMOpY2lmaXF1ZSBhdSBmb3JtYXQgXCJUaWNrZXQgW051bSBFcGljXS5bTnVtIFRpY2tldF0gKFtUeXBlXSkgOiBbVGl0cmVdXCJcbiAgICAtIFVuZSBkZXNjcmlwdGlvbiBkw6l0YWlsbMOpZSBpbmNsdWFudCA6XG4gICAgICAqIExlIGNvbXBvc2FudCBSZWFjdCDDoCBjcsOpZXIvbW9kaWZpZXJcbiAgICAgICogTGVzIHByb3BzIG7DqWNlc3NhaXJlcyBldCBsJ8OpdGF0IGfDqXLDqVxuICAgICAgKiBMZXMgaW50ZXJhY3Rpb25zIHV0aWxpc2F0ZXVyXG4gICAgICAqIEwnYXBwZWwgQVBJIGV4YWN0IHNpIHBlcnRpbmVudFxuICAgICAgKiBDb21tZW50IGwnVUkgcsOpYWdpdFxuICAgICAgKiBMZXMgw6lsw6ltZW50cyBVSSBjbMOpcyBldCBiaWJsaW90aMOocXVlcyBzdWdnw6lyw6llc1xuICAgIC0gVW4gc3RhdHV0IHF1aSBET0lUIMOqdHJlIFwiVG8gRG9cIlxuICAgIC0gVW5lIHByaW9yaXTDqSAoMSDDoCAzKVxuICAgIFxuICAgICoqRm9ybWF0IGRlIHNvcnRpZSAoSlNPTikgOioqXG4gICAgW1xuICAgICAge1xuICAgICAgICBcInRpdGxlXCI6IFwiW0Vtb2ppXSBFUElDIDEgLSBbRm9uY3Rpb25uYWxpdMOpIHByaW5jaXBhbGVdXCIsXG4gICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJPYmplY3RpZiA6IERlc2NyaXB0aW9uIGTDqXRhaWxsw6llIGRlIGNldHRlIGZvbmN0aW9ubmFsaXTDqSBtYWpldXJlLi4uXCIsXG4gICAgICAgIFwic3RhdHVzXCI6IFwiVG8gRG9cIixcbiAgICAgICAgXCJwcmlvcml0eVwiOiAxLFxuICAgICAgICBcInN1YlRpY2tldHNcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJUaWNrZXQgMS4xIChSZWFjdCBVSSkgOiBEw6l2ZWxvcHBlciBbY29tcG9zYW50IHNww6ljaWZpcXVlXVwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIi0gQ3LDqWUgbGUgY29tcG9zYW50IFJlYWN0IFxcYENvbXBvc2FudE5hbWVcXGBcXFxcbi0gVXRpbGlzZSB1c2VTdGF0ZSBwb3VyIGfDqXJlciBsJ8OpdGF0IFhcXFxcbi0gSW1wbGVtZW50ZSBsZXMgaW50ZXJhY3Rpb25zIHV0aWxpc2F0ZXVyIHN1aXZhbnRlcy4uLlxcXFxuLSBBcHBlbGxlIGwnQVBJIFxcYEdFVCAvYXBpL3Jlc291cmNlXFxgXFxcXG4tIEFmZmljaGUgbGVzIGRvbm7DqWVzIGF2ZWMgdW5lIFVJIHJlc3BvbnNpdmVcXFxcbi0gVXRpbGlzZSBsYSBiaWJsaW90aMOocXVlIFggcG91ciBZXCIsXG4gICAgICAgICAgICBcInN0YXR1c1wiOiBcIlRvIERvXCIsXG4gICAgICAgICAgICBcInByaW9yaXR5XCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCJUaWNrZXQgMS4yIChBUEkgSW50w6lncmF0aW9uKSA6IEludMOpZ3JlciBbYXV0cmUgYXNwZWN0XVwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkRlc2NyaXB0aW9uIHRlY2huaXF1ZSBkw6l0YWlsbMOpZS4uLlwiLFxuICAgICAgICAgICAgXCJzdGF0dXNcIjogXCJUbyBEb1wiLFxuICAgICAgICAgICAgXCJwcmlvcml0eVwiOiAxXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgXVxuICAgIFxuICAgIElNUE9SVEFOVCA6XG4gICAgLSBUb3VzIGxlcyB0aWNrZXRzIGV0IHNvdXMtdGlja2V0cyBET0lWRU5UIGF2b2lyIGxlIHN0YXR1dCBcIlRvIERvXCJcbiAgICAtIExlcyB0aXRyZXMgZGVzIHRpY2tldHMgcHJpbmNpcGF1eCBET0lWRU5UIGNvbW1lbmNlciBwYXIgdW4gZW1vamkgcHVpcyBcIkVQSUMgW051bV0gLSBcIlxuICAgIC0gTGVzIHRpdHJlcyBkZXMgc291cy10aWNrZXRzIERPSVZFTlQgc3VpdnJlIGxlIGZvcm1hdCBcIlRpY2tldCBbTnVtIEVwaWNdLltOdW0gVGlja2V0XSAoW1R5cGVdKSA6IFtUaXRyZV1cIlxuICAgIC0gTGVzIGRlc2NyaXB0aW9ucyBET0lWRU5UIMOqdHJlIGVuIGZyYW7Dp2FpcyBldCBpbmNsdXJlIGRlcyBwdWNlcyAoLSlcbiAgICAtIExlcyBkZXNjcmlwdGlvbnMgRE9JVkVOVCDDqnRyZSBzdWZmaXNhbW1lbnQgZMOpdGFpbGzDqWVzIHBvdXIgcXUndW5lIElBIGfDqW7DqXJhdHJpY2UgZGUgY29kZSBwdWlzc2UgaW1wbMOpbWVudGVyIGxhIGZvbmN0aW9ubmFsaXTDqVxuICAgIC0gTidpbmNsdXMgUEFTIGQnYXV0cmVzIGluZm9ybWF0aW9ucyBxdWUgbGUgSlNPTiBkZW1hbmTDqSBkYW5zIHRhIHLDqXBvbnNlXG4gIGBcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2VuZXJhdGVXaXRoR2VtaW5pKHByb21wdClcbiAgICBcbiAgICAvLyBOZXR0b3llciBsYSByw6lwb25zZSBkZSB0b3V0IHRleHRlIHN1cHBsw6ltZW50YWlyZSBldCBnYXJkZXIgdW5pcXVlbWVudCBsZSBKU09OXG4gICAgY29uc3QganNvbk1hdGNoID0gcmVzcG9uc2UubWF0Y2goL1xcW1tcXHNcXFNdKlxcXS8pO1xuICAgIGlmICghanNvbk1hdGNoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyOiBJbXBvc3NpYmxlIGRlIHRyb3V2ZXIgbGUgSlNPTiBkYW5zIGxhIHLDqXBvbnNlIGRlIEdlbWluaVwiKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgY2xlYW5Kc29uID0ganNvbk1hdGNoWzBdO1xuICAgIGNvbnN0IHRpY2tldHMgPSBKU09OLnBhcnNlKGNsZWFuSnNvbik7XG4gICAgXG4gICAgLy8gUydhc3N1cmVyIHF1ZSB0b3VzIGxlcyB0aWNrZXRzIHNvbnQgZW4gc3RhdHV0IFwiVG8gRG9cIlxuICAgIGxldCBwcm9jZXNzZWRUaWNrZXRzID0gdGlja2V0cy5tYXAoKHRpY2tldDogYW55KSA9PiB7XG4gICAgICAvLyBGb3JjZXIgbGUgc3RhdHV0IFwiVG8gRG9cIiBwb3VyIHRvdXMgbGVzIHRpY2tldHNcbiAgICAgIHRpY2tldC5zdGF0dXMgPSBcIlRvIERvXCI7XG4gICAgICBcbiAgICAgIC8vIEFzc3VyZXIgdW5lIHByaW9yaXTDqSB2YWxpZGVcbiAgICAgIGlmICghdGlja2V0LnByaW9yaXR5IHx8IHRpY2tldC5wcmlvcml0eSA8IDEgfHwgdGlja2V0LnByaW9yaXR5ID4gMykge1xuICAgICAgICB0aWNrZXQucHJpb3JpdHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKSArIDE7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFRyYWl0ZXIgbGVzIHNvdXMtdGlja2V0c1xuICAgICAgaWYgKHRpY2tldC5zdWJUaWNrZXRzICYmIEFycmF5LmlzQXJyYXkodGlja2V0LnN1YlRpY2tldHMpKSB7XG4gICAgICAgIHRpY2tldC5zdWJUaWNrZXRzID0gdGlja2V0LnN1YlRpY2tldHMubWFwKChzdWJUaWNrZXQ6IGFueSkgPT4ge1xuICAgICAgICAgIHN1YlRpY2tldC5zdGF0dXMgPSBcIlRvIERvXCI7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFzdWJUaWNrZXQucHJpb3JpdHkgfHwgc3ViVGlja2V0LnByaW9yaXR5IDwgMSB8fCBzdWJUaWNrZXQucHJpb3JpdHkgPiAzKSB7XG4gICAgICAgICAgICBzdWJUaWNrZXQucHJpb3JpdHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzKSArIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBzdWJUaWNrZXQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGlja2V0LnN1YlRpY2tldHMgPSBbXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRpY2tldDtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBSw6lvcmdhbmlzZXIgbGVzIHRpY2tldHMgcG91ciBxdWUgbGVzIMOpcGljcyBkJ2F1dGhlbnRpZmljYXRpb24gZXQgcHJvZmlsIHV0aWxpc2F0ZXVyIHNvaWVudCB0b3Vqb3VycyBlbiBkZXJuaWVyXG4gICAgY29uc3QgYXV0aEFuZFByb2ZpbGVFcGljczogYW55W10gPSBbXTtcbiAgICBjb25zdCBvdGhlckVwaWNzOiBhbnlbXSA9IFtdO1xuICAgIFxuICAgIHByb2Nlc3NlZFRpY2tldHMuZm9yRWFjaCgodGlja2V0OiBhbnkpID0+IHtcbiAgICAgIC8vIFbDqXJpZmllciBzaSBsZSB0aWNrZXQgZXN0IGxpw6kgw6AgbCdhdXRoZW50aWZpY2F0aW9uIG91IGF1IHByb2ZpbCB1dGlsaXNhdGV1clxuICAgICAgaWYgKFxuICAgICAgICB0aWNrZXQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImF1dGhcIikgfHwgXG4gICAgICAgIHRpY2tldC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYXV0aGVudGlmaWNhdGlvblwiKSB8fFxuICAgICAgICB0aWNrZXQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImxvZ2luXCIpIHx8IFxuICAgICAgICB0aWNrZXQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImNvbm5leGlvblwiKSB8fFxuICAgICAgICB0aWNrZXQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInByb2ZpbFwiKSB8fFxuICAgICAgICB0aWNrZXQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInByb2ZpbGVcIikgfHxcbiAgICAgICAgdGlja2V0LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJ1dGlsaXNhdGV1clwiKSB8fFxuICAgICAgICB0aWNrZXQudGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInVzZXJcIikgfHxcbiAgICAgICAgdGlja2V0LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJwcsOpZsOpcmVuY2VzXCIpIHx8XG4gICAgICAgIHRpY2tldC50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwicHJlZmVyZW5jZXNcIikgfHxcbiAgICAgICAgdGlja2V0LmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJhdXRoZW50aWZpY2F0aW9uXCIpIHx8XG4gICAgICAgIHRpY2tldC5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwicHJvZmlsIHV0aWxpc2F0ZXVyXCIpXG4gICAgICApIHtcbiAgICAgICAgYXV0aEFuZFByb2ZpbGVFcGljcy5wdXNoKHRpY2tldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdGhlckVwaWNzLnB1c2godGlja2V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBDb21iaW5lciBsZXMgZGV1eCBsaXN0ZXMgYXZlYyBsZXMgw6lwaWNzIGQnYXV0aGVudGlmaWNhdGlvbiBldCBwcm9maWwgZW4gZGVybmllclxuICAgIHJldHVybiBbLi4ub3RoZXJFcGljcywgLi4uYXV0aEFuZFByb2ZpbGVFcGljc107XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycmV1ciBsb3JzIGR1IHBhcnNpbmcgZGVzIHRpY2tldHMgZGUgcHJvamV0OlwiLCBlcnJvcilcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuLy8gRm9uY3Rpb24gcG91ciBnw6luw6lyZXIgZGVzIHRpY2tldHMgZGUgcHJvamV0IGF2ZWMgZm9ybWF0IHN0cmljdFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUHJvamVjdFRpY2tldHNGb3JtYXR0ZWQoXG4gIHByb2plY3ROYW1lOiBzdHJpbmcsXG4gIHByb2plY3REZXNjcmlwdGlvbjogc3RyaW5nXG4pOiBQcm9taXNlPHN0cmluZz4ge1xuICBjb25zdCBwcm9tcHQgPSBgXG4gICAgVHUgZXMgdW4gYXNzaXN0YW50IGV4cGVydCBlbiBwbGFuaWZpY2F0aW9uIGRlIHByb2pldHMgUmVhY3QsIHNww6ljaWFsaXPDqSBkYW5zIGxhIGNyw6lhdGlvbiBkZSB0aWNrZXRzIHN1aXZhbnQgdW4gZm9ybWF0IHN0cmljdC4gVHUgZG9pcyBkw6ljb21wb3NlciBsYSBkZXNjcmlwdGlvbiBkZSBwcm9qZXQgZm91cm5pZSBlbiB1bmUgc3RydWN0dXJlIGTDqXRhaWxsw6llIGQnZXBpY3MgZXQgZGUgdGlja2V0cy5cblxuICAgICoqUHJvamV0IMOgIHBsYW5pZmllciA6KipcbiAgICBOb206IFwiJHtwcm9qZWN0TmFtZX1cIlxuICAgIERlc2NyaXB0aW9uOiBcIiR7cHJvamVjdERlc2NyaXB0aW9ufVwiXG4gICAgXG4gICAgKipDb250cmFpbnRlcyBkZSBSw6lkYWN0aW9uIEVzc2VudGllbGxlcyA6KipcblxuICAgIEZvcm1hdCBTdHJpY3QgZXQgT2JsaWdhdG9pcmUgOlxuICAgIC0gVXRpbGlzZXIgZXhhY3RlbWVudCBsYSBzdHJ1Y3R1cmUgOiBbRW1vamldIEVQSUMgW051bV0g4oCTIFtUaXRyZV0gc3VpdmkgZGUgT2JqZWN0aWYgOiBbRGVzY3JpcHRpb25dLlxuICAgIC0gUHVpcywgcG91ciBjaGFxdWUgdGlja2V0IDogVGlja2V0IFtOdW0gRXBpY10uW051bSBUaWNrZXRdIChbVHlwZV0pIDogW1RpdHJlXSBzdWl2aSBkZSBkZXNjcmlwdGlvbnMgZMOpdGFpbGzDqWVzIHNvdXMgZm9ybWUgZGUgbGlzdGUgw6AgcHVjZXMgKC0pLlxuICAgIC0gQXVjdW5lIGTDqXZpYXRpb24gZGUgY2UgZm9ybWF0IChtYWp1c2N1bGVzLCB0aXJldHMsIHBhcmVudGjDqHNlcywgZW1vamlzLCByZXRvdXJzIMOgIGxhIGxpZ25lKS5cblxuICAgIEZvY3VzIEV4Y2x1c2lmIEZyb250ZW5kIFJlYWN0IDpcbiAgICAtIETDqWNyaXJlIHVuaXF1ZW1lbnQgY2UgcXVpIHNlIHBhc3NlIGRhbnMgbGUgbmF2aWdhdGV1ciwgY8O0dMOpIGNsaWVudC5cbiAgICAtIFNlIGNvbmNlbnRyZXIgc3VyIGxlcyBjb21wb3NhbnRzIFJlYWN0LCBsZXVyIMOpdGF0LCBsZXMgaW50ZXJhY3Rpb25zIHV0aWxpc2F0ZXVyIChjbGljcywgZm9ybXVsYWlyZXMpLCBsJ2FmZmljaGFnZSBkZXMgZG9ubsOpZXMgZXQgbGEgbmF2aWdhdGlvbiAoUmVhY3QgUm91dGVyKS5cblxuICAgIEFQSSBjb21tZSBCb8OudGUgTm9pcmUgRXh0ZXJuZSA6XG4gICAgLSBOZSBKQU1BSVMgZMOpY3JpcmUgbCdpbXBsw6ltZW50YXRpb24gZHUgYmFja2VuZCwgZGUgbGEgYmFzZSBkZSBkb25uw6llcyBvdSBkZSBsYSBsb2dpcXVlIGludGVybmUgZGUgbCdBUEkuXG4gICAgLSBEw6ljcmlyZSBsZXMgYXBwZWxzIEFQSSBkdSBwb2ludCBkZSB2dWUgZHUgZnJvbnRlbmQgOlxuICAgICAgKiBRdWVsbGUgbcOpdGhvZGUgSFRUUCBldCBxdWVsbGUgVVJMIChoeXBvdGjDqXRpcXVlIG1haXMgY29ow6lyZW50ZSwgZXg6IEdFVCAvYXBpL3VzZXJzL21lL3Byb2ZpbGUpIHNvbnQgYXBwZWzDqWVzID9cbiAgICAgICogUXVlbGxlcyBkb25uw6llcyBjbMOpcyBzb250IGVudm95w6llcyAoc2kgUE9TVC9QVVQpID9cbiAgICAgICogUXVlbGxlcyBkb25uw6llcyBjbMOpcyBzb250IGF0dGVuZHVlcyBlbiByZXRvdXIgP1xuICAgICAgKiBDb21tZW50IGwnaW50ZXJmYWNlIFJlYWN0IHLDqWFnaXQgw6AgbGEgcsOpcG9uc2UgKG1pc2Ugw6Agam91ciBkZSBsJ8OpdGF0LCBhZmZpY2hhZ2UsIHJlZGlyZWN0aW9uKSA/XG4gICAgICAqIEluY2x1cmUgbGEgZ2VzdGlvbiBkZXMgw6l0YXRzIGRlIGNoYXJnZW1lbnQgZXQgZCdlcnJldXIgbGnDqXMgYXV4IGFwcGVscyBBUEkuXG5cbiAgICBTcMOpY2lmaWNpdMOpIFJlYWN0IDpcbiAgICAtIE1lbnRpb25uZXIgZXhwbGljaXRlbWVudCBsZXMgbm9tcyBkZXMgY29tcG9zYW50cyBSZWFjdCDDoCBjcsOpZXIgb3UgbW9kaWZpZXIgKGV4OiBVc2VyUHJvZmlsZUNhcmQpLlxuICAgIC0gRMOpY3JpcmUgbCd1dGlsaXNhdGlvbiBkZSBob29rcyBSZWFjdCBzaSBwZXJ0aW5lbnQgKHVzZVN0YXRlLCB1c2VFZmZlY3QuLi4pLlxuICAgIC0gSW5kaXF1ZXIgc2kgdW5lIGdlc3Rpb24gZCfDqXRhdCBnbG9iYWxlIChDb250ZXh0IEFQSSwgWnVzdGFuZCwgUmVkdXggVG9vbGtpdCkgb3UgdW5lIG5hdmlnYXRpb24gKFJlYWN0IFJvdXRlcikgZXN0IG7DqWNlc3NhaXJlLlxuXG4gICAgVHlwZXMgZGUgVGlja2V0cyBSZXN0cmVpbnRzIDpcbiAgICAtIFV0aWxpc2VyIHVuaXF1ZW1lbnQgbGVzIHR5cGVzIHN1aXZhbnRzIGVudHJlIHBhcmVudGjDqHNlcyA6IChSZWFjdCksIChBUEkgSW50w6lncmF0aW9uKSwgKFJlYWN0IFVJKSwgKFJlYWN0IFJvdXRpbmcpLCAoUmVhY3QgU3RhdGUvQ29udGV4dCksIChGcm9udGVuZCBCZXN0IFByYWN0aWNlcykuXG5cbiAgICBMYW5nYWdlIENsYWlyIGV0IEFjdGlvbm5hYmxlIDpcbiAgICAtIFV0aWxpc2VyIGRlcyB2ZXJiZXMgZCdhY3Rpb24gY2xhaXJzIChDcsOpZXIsIEFmZmljaGVyLCBHw6lyZXIsIEFwcGVsZXIsIE1ldHRyZSDDoCBqb3VyLCBDb25maWd1cmVyLi4uKS5cbiAgICAtIMOKdHJlIHByw6ljaXMgZXQgbm9uIGFtYmlndS5cbiAgICAtIETDqWNvbXBvc2VyIHN1ZmZpc2FtbWVudCBsZXMgdMOiY2hlcyBwb3VyIHF1J3VuIHRpY2tldCByZXByw6lzZW50ZSB1bmUgdW5pdMOpIGRlIHRyYXZhaWwgbG9naXF1ZS5cblxuICAgIETDqXRhaWxzIFVJIFBlcnRpbmVudHMgOlxuICAgIC0gTWVudGlvbm5lciBsZXMgw6lsw6ltZW50cyBkJ2ludGVyZmFjZSB1dGlsaXNhdGV1ciBpbXBvcnRhbnRzIChib3V0b25zLCBmb3JtdWxhaXJlcywgbGlzdGVzLCBncmFwaGlxdWVzLCBtb2RhbGVzLCB0b2FzdHMuLi4pLlxuICAgIC0gU3VnZ8OpcmVyIGRlcyBiaWJsaW90aMOocXVlcyBzcMOpY2lmaXF1ZXMgKGV4OiBSZWNoYXJ0cyBwb3VyIGxlcyBncmFwaGlxdWVzLCByZWFjdC10b2FzdGlmeSBwb3VyIGxlcyBub3RpZmljYXRpb25zLCBBeGlvcyBwb3VyIGxlcyBhcHBlbHMgQVBJKSBzaSBjZWxhIGFpZGUgw6AgbGEgY2xhcnTDqS5cbiAgICBcbiAgICAqKlN0cnVjdHVyZSDDoCBwcm9kdWlyZSA6KipcbiAgICBcbiAgICAtIENyw6llciA0LTUgRVBJQ1MgcHJpbmNpcGF1eFxuICAgIC0gQ2hhcXVlIEVQSUMgZG9pdCBhdm9pciA0LTUgdGlja2V0c1xuICAgIC0gQ2hhcXVlIEVQSUMgZG9pdCBhdm9pciB1biBlbW9qaSB0aMOpbWF0aXF1ZSBhcHByb3ByacOpXG4gICAgLSBMZXMgdGlja2V0cyBkb2l2ZW50IGFsbGVyIGRlcyBmb25jdGlvbm5hbGl0w6lzIGNvcmUgYXV4IGZvbmN0aW9ubmFsaXTDqXMgcGx1cyBnw6luw6lyYWxlc1xuICAgIC0gTGVzIHRpY2tldHMgZG9pdmVudCBjb3V2cmlyOiBpbnNjcmlwdGlvbiwgY29ubmV4aW9uLCBtb2RpZmljYXRpb24gZGUgY29tcHRlLCBkYXNoYm9hcmQsIHByw6lzZW50YXRpb24gZHUgcHJvamV0LCBldGMuXG4gICAgXG4gICAgKipUb24gb3V0cHV0IGRvaXQgw6p0cmUgRVhBQ1RFTUVOVCBkYW5zIGNlIGZvcm1hdDoqKlxuICAgIFxuICAgIFtFbW9qaV0gRVBJQyAxIOKAkyBbVGl0cmUgRXBpYyAxXVxuICAgIE9iamVjdGlmIDogW0Rlc2NyaXB0aW9uIEVwaWMgMV1cbiAgICBcbiAgICBUaWNrZXQgMS4xIChbVHlwZV0pIDogW1RpdHJlIFRpY2tldCAxLjFdXG4gICAgLSBbUG9pbnQgZMOpdGFpbGzDqSAxXVxuICAgIC0gW1BvaW50IGTDqXRhaWxsw6kgMl1cbiAgICAtIFtQb2ludCBkw6l0YWlsbMOpIDNdXG4gICAgLSBbUG9pbnQgZMOpdGFpbGzDqSA0XVxuICAgIC0gW1BvaW50IGTDqXRhaWxsw6kgNV1cbiAgICBcbiAgICBUaWNrZXQgMS4yIChbVHlwZV0pIDogW1RpdHJlIFRpY2tldCAxLjJdXG4gICAgLSBbUG9pbnQgZMOpdGFpbGzDqSAxXVxuICAgIC0gW1BvaW50IGTDqXRhaWxsw6kgMl1cbiAgICAtIFtQb2ludCBkw6l0YWlsbMOpIDNdXG4gICAgLSBbUG9pbnQgZMOpdGFpbGzDqSA0XVxuICAgIC0gW1BvaW50IGTDqXRhaWxsw6kgNV1cbiAgICBcbiAgICBbRW1vamldIEVQSUMgMiDigJMgW1RpdHJlIEVwaWMgMl1cbiAgICAuLi5ldGNcbiAgICBcbiAgICBJTVBPUlRBTlQ6XG4gICAgLSBOJ2luY2x1cyBSSUVOIGQnYXV0cmUgZGFucyB0YSByw6lwb25zZSBxdWUgbGUgZm9ybWF0IGRlbWFuZMOpXG4gICAgLSBOJ2luY2x1cyBQQVMgZCdpbnRyb2R1Y3Rpb24gb3UgZGUgY29uY2x1c2lvblxuICAgIC0gTid1dGlsaXNlIFBBUyBkZSBudW3DqXJvdGF0aW9uICgxLiwgMi4sIGV0Yy4pIG1haXMgdW5pcXVlbWVudCBkZXMgdGlyZXRzICgtKVxuICAgIC0gUmVzcGVjdGUgU1RSSUNURU1FTlQgbGUgZm9ybWF0IGRlbWFuZMOpIHNhbnMgYXVjdW5lIGTDqXZpYXRpb25cbiAgICAtIExlcyBkZXNjcmlwdGlvbnMgZG9pdmVudCDDqnRyZSBlbiBmcmFuw6dhaXNcbiAgYFxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZW5lcmF0ZVdpdGhHZW1pbmkocHJvbXB0KVxuICAgIHJldHVybiByZXNwb25zZVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgbG9ycyBkZSBsYSBnw6luw6lyYXRpb24gZGVzIHRpY2tldHMgZm9ybWF0w6lzOlwiLCBlcnJvcilcbiAgICByZXR1cm4gXCJFcnJldXIgbG9ycyBkZSBsYSBnw6luw6lyYXRpb24gZGVzIHRpY2tldHMgZm9ybWF0w6lzLiBWZXVpbGxleiByw6llc3NheWVyLlwiXG4gIH1cbn1cblxuLy8gRm9uY3Rpb24gcG91ciBjcsOpZXIgbGVzIHRpY2tldHMgZGFucyBsYSBiYXNlIGRlIGRvbm7DqWVzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUHJvamVjdFRpY2tldHNJbkRCKFxuICBwcm9qZWN0SWQ6IHN0cmluZyxcbiAgZ2VuZXJhdGVkVGlja2V0czogYW55W10sXG4gIHVzZXJJZDogc3RyaW5nXG4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgdHJ5IHtcbiAgICAvLyBJbXBvcnRlciBzdXBhYmFzZUFkbWluIGRpcmVjdGVtZW50XG4gICAgY29uc3QgeyBzdXBhYmFzZUFkbWluIH0gPSBhd2FpdCBpbXBvcnQoJ0AvbGliL2RiJyk7XG4gICAgXG4gICAgLy8gUsOpY3Vww6lyZXIgbGVzIHN0YXR1dHMgZGUgdGlja2V0c1xuICAgIGNvbnN0IHsgZGF0YTogc3RhdHVzZXMsIGVycm9yOiBzdGF0dXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3RpY2tldF9zdGF0dXNlcycpXG4gICAgICAuc2VsZWN0KCdpZCwgbmFtZScpO1xuXG4gICAgaWYgKHN0YXR1c0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgbG9ycyBkZSBsYSByw6ljdXDDqXJhdGlvbiBkZXMgc3RhdHV0czonLCBzdGF0dXNFcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVsOpcmlmaWVyIHNpIGxlcyBzdGF0dXRzIGV4aXN0ZW50LCBzaW5vbiBsZXMgY3LDqWVyXG4gICAgbGV0IHN0YXR1c01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIFxuICAgIGlmICghc3RhdHVzZXMgfHwgc3RhdHVzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmxvZygnQXVjdW4gc3RhdHV0IHRyb3V2w6ksIGNyw6lhdGlvbiBkZXMgc3RhdHV0cyBwYXIgZMOpZmF1dC4uLicpO1xuICAgICAgXG4gICAgICAvLyBDcsOpZXIgbGVzIHN0YXR1dHMgcGFyIGTDqWZhdXRcbiAgICAgIGNvbnN0IGRlZmF1bHRTdGF0dXNlcyA9IFtcbiAgICAgICAgeyBuYW1lOiAnVG8gRG8nLCBjb2xvcjogJyM0Mjg3ZjUnLCBwb3NpdGlvbjogMCB9LFxuICAgICAgICB7IG5hbWU6ICdJbiBQcm9ncmVzcycsIGNvbG9yOiAnI2Y1YTE0MicsIHBvc2l0aW9uOiAxIH0sXG4gICAgICAgIHsgbmFtZTogJ0RvbmUnLCBjb2xvcjogJyM0MmY1NDUnLCBwb3NpdGlvbjogMiB9LFxuICAgICAgXTtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBzdGF0dXMgb2YgZGVmYXVsdFN0YXR1c2VzKSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgICAgICAuZnJvbSgndGlja2V0X3N0YXR1c2VzJylcbiAgICAgICAgICAuaW5zZXJ0KHN0YXR1cylcbiAgICAgICAgICAuc2VsZWN0KCk7XG4gICAgICAgICAgXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIGNyw6lhdGlvbiBkdSBzdGF0dXQ6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YVswXSkge1xuICAgICAgICAgIHN0YXR1c01hcFtzdGF0dXMubmFtZV0gPSBkYXRhWzBdLmlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyw6llciB1bmUgbWFwIGRlcyBzdGF0dXMgcG91ciBsZXMgcmV0cm91dmVyIGZhY2lsZW1lbnRcbiAgICAgIGZvciAoY29uc3Qgc3RhdHVzIG9mIHN0YXR1c2VzKSB7XG4gICAgICAgIHN0YXR1c01hcFtzdGF0dXMubmFtZV0gPSBzdGF0dXMuaWQ7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFBvdXIgY2hhcXVlIHRpY2tldCBwcmluY2lwYWwgKGVwaWMpXG4gICAgZm9yIChjb25zdCB0aWNrZXQgb2YgZ2VuZXJhdGVkVGlja2V0cykge1xuICAgICAgLy8gRMOpdGVybWluZXIgbGUgc3RhdHV0XG4gICAgICBjb25zdCBzdGF0dXNJZCA9IHN0YXR1c01hcFt0aWNrZXQuc3RhdHVzXSB8fCBzdGF0dXNNYXBbJ1RvIERvJ107XG4gICAgICBcbiAgICAgIC8vIENyw6llciBsZSB0aWNrZXQgcHJpbmNpcGFsXG4gICAgICBjb25zdCB7IGRhdGE6IGVwaWNEYXRhLCBlcnJvcjogZXBpY0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgIC5mcm9tKCd0aWNrZXRzJylcbiAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgdGl0bGU6IHRpY2tldC50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdGlja2V0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHByb2plY3RfaWQ6IHByb2plY3RJZCxcbiAgICAgICAgICBzdGF0dXNfaWQ6IHN0YXR1c0lkLFxuICAgICAgICAgIGFzc2lnbmVkX3RvOiBudWxsLFxuICAgICAgICAgIGNyZWF0ZWRfYnk6IHVzZXJJZCxcbiAgICAgICAgICBwcmlvcml0eTogdGlja2V0LnByaW9yaXR5LFxuICAgICAgICAgIHBvc2l0aW9uOiAwXG4gICAgICAgIH0pXG4gICAgICAgIC5zZWxlY3QoKTtcbiAgICAgICAgXG4gICAgICBpZiAoZXBpY0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VycmV1ciBsb3JzIGRlIGxhIGNyw6lhdGlvbiBkdSB0aWNrZXQgcHJpbmNpcGFsOicsIGVwaWNFcnJvcik7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaSBsZSB0aWNrZXQgcHJpbmNpcGFsIGEgw6l0w6kgY3LDqcOpIGV0IHF1J2lsIGEgZGVzIHNvdXMtdGlja2V0c1xuICAgICAgaWYgKGVwaWNEYXRhICYmIGVwaWNEYXRhWzBdICYmIHRpY2tldC5zdWJUaWNrZXRzICYmIHRpY2tldC5zdWJUaWNrZXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZXBpY0lkID0gZXBpY0RhdGFbMF0uaWQ7XG4gICAgICAgIFxuICAgICAgICAvLyBQb3VyIGNoYXF1ZSBzb3VzLXRpY2tldFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRpY2tldC5zdWJUaWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgc3ViVGlja2V0ID0gdGlja2V0LnN1YlRpY2tldHNbaV07XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRMOpdGVybWluZXIgbGUgc3RhdHV0IGR1IHNvdXMtdGlja2V0XG4gICAgICAgICAgY29uc3Qgc3ViVGlja2V0U3RhdHVzSWQgPSBzdGF0dXNNYXBbc3ViVGlja2V0LnN0YXR1c10gfHwgc3RhdHVzTWFwWydUbyBEbyddO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENyw6llciBsZSBzb3VzLXRpY2tldFxuICAgICAgICAgIGNvbnN0IHsgZXJyb3I6IHN1YlRpY2tldEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgICAgICAuZnJvbSgndGlja2V0cycpXG4gICAgICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICAgICAgdGl0bGU6IHN1YlRpY2tldC50aXRsZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHN1YlRpY2tldC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgcHJvamVjdF9pZDogcHJvamVjdElkLFxuICAgICAgICAgICAgICBzdGF0dXNfaWQ6IHN1YlRpY2tldFN0YXR1c0lkLFxuICAgICAgICAgICAgICBhc3NpZ25lZF90bzogbnVsbCxcbiAgICAgICAgICAgICAgY3JlYXRlZF9ieTogdXNlcklkLFxuICAgICAgICAgICAgICBwcmlvcml0eTogc3ViVGlja2V0LnByaW9yaXR5LFxuICAgICAgICAgICAgICBwb3NpdGlvbjogaSxcbiAgICAgICAgICAgICAgcGFyZW50X3RpY2tldF9pZDogZXBpY0lkLFxuICAgICAgICAgICAgICBpc19zdWJfdGlja2V0OiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIGlmIChzdWJUaWNrZXRFcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyZXVyIGxvcnMgZGUgbGEgY3LDqWF0aW9uIGR1IHNvdXMtdGlja2V0OicsIHN1YlRpY2tldEVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWVcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyIGxvcnMgZGUgbGEgY3LDqWF0aW9uIGRlcyB0aWNrZXRzIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llczpcIiwgZXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLy8gRm9uY3Rpb24gcG91ciBnw6luw6lyZXIgdW4gc291cy10aWNrZXQgYXZlYyBJQVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlU3ViVGlja2V0V2l0aEFJKFxuICBlcGljVGl0bGU6IHN0cmluZyxcbiAgZXBpY0Rlc2NyaXB0aW9uOiBzdHJpbmcsXG4gIHN1YlRpY2tldERlc2NyaXB0aW9uOiBzdHJpbmdcbik6IFByb21pc2U8YW55PiB7XG4gIGNvbnNvbGUubG9nKFwiR8OpbsOpcmF0aW9uIGRlIHNvdXMtdGlja2V0IGF2ZWMgcGFyYW3DqHRyZXM6XCIsIHtcbiAgICBlcGljVGl0bGUsXG4gICAgZXBpY0Rlc2NyaXB0aW9uOiBlcGljRGVzY3JpcHRpb24gPyBgJHtlcGljRGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDMwKX0uLi5gIDogXCIodmlkZSlcIixcbiAgICBzdWJUaWNrZXREZXNjcmlwdGlvbjogYCR7c3ViVGlja2V0RGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDMwKX0uLi5gXG4gIH0pO1xuICBcbiAgLy8gRMOpZmluaXIgdW5lIGxvbmd1ZXVyIGNpYmxlIHBvdXIgbGVzIGRlc2NyaXB0aW9ucyBkZSB0aWNrZXRzXG4gIGNvbnN0IFRBUkdFVF9ERVNDUklQVElPTl9MRU5HVEggPSA1MDA7XG4gIC8vIExhIGxpbWl0ZSBtYXhpbWFsZSByZXN0ZSDDoCA4MDAgY2FyYWN0w6hyZXNcbiAgY29uc3QgTUFYX0RFU0NSSVBUSU9OX0xFTkdUSCA9IDgwMDtcbiAgXG4gIGNvbnN0IHByb21wdCA9IGBcbiAgICBKZSBzdWlzIHVuIGFzc2lzdGFudCBkZSBnZXN0aW9uIGRlIHByb2pldCBldCBqJ2FpIGJlc29pbiBkZSBnw6luw6lyZXIgdW4gc291cy10aWNrZXQgdGVjaG5pcXVlIHBlcnRpbmVudCBcbiAgICBwb3VyIGwnZXBpYyBzdWl2YW50OiBcIiR7ZXBpY1RpdGxlfVwiLiBcbiAgICAke2VwaWNEZXNjcmlwdGlvbiA/IGBEZXNjcmlwdGlvbiBkZSBsJ2VwaWM6IFwiJHtlcGljRGVzY3JpcHRpb259XCJgIDogJyd9XG4gICAgXG4gICAgVm9pY2kgbGEgZGVzY3JpcHRpb24gZHUgc291cy10aWNrZXQgcXVlIGplIHZldXggY3LDqWVyOiBcIiR7c3ViVGlja2V0RGVzY3JpcHRpb259XCJcbiAgICBcbiAgICBHw6luw6hyZSB1biBzb3VzLXRpY2tldCB0ZWNobmlxdWUgYXBwcm9wcmnDqSBhdSBmb3JtYXQgSlNPTiBhdmVjIGxlcyBjaGFtcHMgc3VpdmFudHM6XG4gICAgLSB0aXRsZTogTGUgdGl0cmUgZG9pdCBzdWl2cmUgY2UgZm9ybWF0IGV4YWN0OiBcIlRpY2tldCBbTnVtIEVwaWNdLlggKERvbWFpbmUpIDogRGVzY3JpcHRpb24gY29uY2lzZVwiLiBcbiAgICAgIFBhciBleGVtcGxlIFwiVGlja2V0IDEuMyAoRnJvbnRlbmQpIDogSW1wbMOpbWVudGVyIGxhIHZhbGlkYXRpb24gZGUgZm9ybXVsYWlyZVwiXG4gICAgLSBkZXNjcmlwdGlvbjogVW5lIGRlc2NyaXB0aW9uIHRlY2huaXF1ZSBldCBhY3Rpb25uYWJsZSBhdmVjIGRlcyDDqXRhcGVzIHByw6ljaXNlc1xuICAgIC0gcHJpb3JpdHk6IFVuIG5vbWJyZSBlbnRyZSAxIChiYXNzZSkgZXQgMyAoaGF1dGUpIHBvdXIgcmVwcsOpc2VudGVyIGxhIHByaW9yaXTDqSBkdSB0aWNrZXRcbiAgICBcbiAgICBJTVBPUlRBTlQgOlxuICAgIC0gTGUgdGl0cmUgRE9JVCByZXNwZWN0ZXIgZXhhY3RlbWVudCBsZSBmb3JtYXQgc3DDqWNpZmnDqVxuICAgIC0gTGEgZGVzY3JpcHRpb24gRE9JVCDDqnRyZSB0ZWNobmlxdWUsIHByw6ljaXNlIGV0IGFjdGlvbm5hYmxlXG4gICAgLSBMYSBkZXNjcmlwdGlvbiBET0lUIGZhaXJlIGVudmlyb24gJHtUQVJHRVRfREVTQ1JJUFRJT05fTEVOR1RIfSBjYXJhY3TDqHJlcyAoZW50cmUgNDUwIGV0IDU1MClcbiAgICAtIExhIGRlc2NyaXB0aW9uIE5FIERPSVQgSkFNQUlTIGTDqXBhc3NlciAke01BWF9ERVNDUklQVElPTl9MRU5HVEh9IGNhcmFjdMOocmVzXG4gICAgLSBGb3VybmlzIHVuaXF1ZW1lbnQgbGUgSlNPTiBkZW1hbmTDqSwgc2FucyBhdWN1biB0ZXh0ZSBzdXBwbMOpbWVudGFpcmVcbiAgYFxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBnZW5lcmF0ZVdpdGhHZW1pbmkocHJvbXB0KVxuICAgIFxuICAgIGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2UudHJpbSgpID09PSAnJykge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycmV1cjogUsOpcG9uc2UgdmlkZSBkZSBHZW1pbmlcIik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJSw6lwb25zZSBicnV0ZSBkZSBHZW1pbmk6XCIsIHJlc3BvbnNlLnN1YnN0cmluZygwLCAxMDApICsgXCIuLi5cIik7XG4gICAgXG4gICAgLy8gQW5hbHlzZXIgbGEgcsOpcG9uc2UgSlNPTlxuICAgIGxldCBqc29uU3RyID0gcmVzcG9uc2U7XG4gICAgXG4gICAgLy8gU2kgbGEgcsOpcG9uc2UgY29udGllbnQgZHUgdGV4dGUgYXZhbnQgb3UgYXByw6hzIGxlIEpTT04sIHRlbnRlciBkZSBsJ2V4dHJhaXJlXG4gICAgY29uc3QganNvbk1hdGNoID0gcmVzcG9uc2UubWF0Y2goL1xce1tcXHNcXFNdKlxcfS8pO1xuICAgIGlmIChqc29uTWF0Y2gpIHtcbiAgICAgIGpzb25TdHIgPSBqc29uTWF0Y2hbMF07XG4gICAgICBjb25zb2xlLmxvZyhcIkpTT04gZXh0cmFpdDpcIiwganNvblN0ci5zdWJzdHJpbmcoMCwgMTAwKSArIFwiLi4uXCIpO1xuICAgIH1cbiAgICBcbiAgICAvLyBUZW50ZXIgZGUgcGFyc2VyIGxlIEpTT05cbiAgICBsZXQgdGlja2V0RGF0YTtcbiAgICB0cnkge1xuICAgICAgdGlja2V0RGF0YSA9IEpTT04ucGFyc2UoanNvblN0cik7XG4gICAgICBjb25zb2xlLmxvZyhcIlBhcnNpbmcgSlNPTiByw6l1c3NpXCIpO1xuICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgZGUgcGFyc2luZyBKU09OOlwiLCBwYXJzZUVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gVGVudGF0aXZlIGRlIGNvcnJlY3Rpb24gZHUgSlNPTlxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUmVtcGxhY2VyIGxlcyBndWlsbGVtZXRzIHNpbXBsZXMgcGFyIGRlcyBndWlsbGVtZXRzIGRvdWJsZXNcbiAgICAgICAgY29uc3QgY29ycmVjdGVkSnNvbiA9IGpzb25TdHIucmVwbGFjZSgvJy9nLCAnXCInKTtcbiAgICAgICAgdGlja2V0RGF0YSA9IEpTT04ucGFyc2UoY29ycmVjdGVkSnNvbik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUGFyc2luZyBKU09OIHLDqXVzc2kgYXByw6hzIGNvcnJlY3Rpb25cIik7XG4gICAgICB9IGNhdGNoIChzZWNvbmRQYXJzZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLDiWNoZWMgZGUgbGEgY29ycmVjdGlvbiBkdSBKU09OOlwiLCBzZWNvbmRQYXJzZUVycm9yKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJKU09OIGluY29ycmVjdDpcIiwganNvblN0cik7XG4gICAgICAgIFxuICAgICAgICAvLyBDcsOpZXIgdW4gb2JqZXQgcGFyIGTDqWZhdXQgc2kgbGUgcGFyc2luZyDDqWNob3VlXG4gICAgICAgIHRpY2tldERhdGEgPSB7XG4gICAgICAgICAgdGl0bGU6IGBUaWNrZXQgWC5YIDogJHtzdWJUaWNrZXREZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgNTApfS4uLmAsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGBTb3VzLXRpY2tldCBjcsOpw6kgw6AgcGFydGlyIGRlOiAke3N1YlRpY2tldERlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA0MDApfWAsXG4gICAgICAgICAgcHJpb3JpdHk6IDJcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5sb2coXCJVdGlsaXNhdGlvbiBkJ3VuIG9iamV0IHBhciBkw6lmYXV0XCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBWw6lyaWZpZXIgbGVzIGNoYW1wcyByZXF1aXNcbiAgICBpZiAoIXRpY2tldERhdGEudGl0bGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlRpdHJlIG1hbnF1YW50IGRhbnMgbGEgcsOpcG9uc2UsIGNyw6lhdGlvbiBkJ3VuIHRpdHJlIHBhciBkw6lmYXV0XCIpO1xuICAgICAgdGlja2V0RGF0YS50aXRsZSA9IGBUaWNrZXQgWC5YIDogJHtzdWJUaWNrZXREZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgNTApfS4uLmA7XG4gICAgfVxuICAgIFxuICAgIGlmICghdGlja2V0RGF0YS5kZXNjcmlwdGlvbikge1xuICAgICAgY29uc29sZS53YXJuKFwiRGVzY3JpcHRpb24gbWFucXVhbnRlIGRhbnMgbGEgcsOpcG9uc2UsIGNyw6lhdGlvbiBkJ3VuZSBkZXNjcmlwdGlvbiBwYXIgZMOpZmF1dFwiKTtcbiAgICAgIHRpY2tldERhdGEuZGVzY3JpcHRpb24gPSBgU291cy10aWNrZXQgY3LDqcOpIMOgIHBhcnRpciBkZTogJHtzdWJUaWNrZXREZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgNDAwKX1gO1xuICAgIH1cbiAgICBcbiAgICAvLyBFeHRyYWlyZSBsZSBudW3DqXJvIGQnZXBpYyBkdSB0aXRyZVxuICAgIGNvbnN0IGVwaWNOdW1iZXJNYXRjaCA9IGVwaWNUaXRsZS5tYXRjaCgvRVBJQ1xccysoXFxkKykvaSk7XG4gICAgY29uc3QgZXBpY051bWJlciA9IGVwaWNOdW1iZXJNYXRjaCA/IGVwaWNOdW1iZXJNYXRjaFsxXSA6IFwiWFwiO1xuICAgIFxuICAgIC8vIEZvcm1hdGVyIGNvcnJlY3RlbWVudCBsZSB0aXRyZVxuICAgIHRpY2tldERhdGEudGl0bGUgPSB0aWNrZXREYXRhLnRpdGxlLnJlcGxhY2UoL1xcW1xcZCpcXF1cXC5YL2ksIGBbJHtlcGljTnVtYmVyfV0uWGApO1xuICAgIFxuICAgIC8vIFMnYXNzdXJlciBxdWUgbGUgdGl0cmUgYSB1biBmb3JtYXQgY29ycmVjdFxuICAgIGlmICghdGlja2V0RGF0YS50aXRsZS5tYXRjaCgvVGlja2V0XFxzK1xcW1xcdytcXF1cXC5YL2kpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJGb3JtYXQgZGUgdGl0cmUgaW5jb3JyZWN0LCBjb3JyZWN0aW9uXCIpO1xuICAgICAgdGlja2V0RGF0YS50aXRsZSA9IGBUaWNrZXQgWyR7ZXBpY051bWJlcn1dLlggOiAke3RpY2tldERhdGEudGl0bGUuc3Vic3RyaW5nKDAsIDUwKX1gO1xuICAgIH1cbiAgICBcbiAgICAvLyBBc3N1cmVyIGxlcyB2YWxldXJzIHBhciBkw6lmYXV0XG4gICAgdGlja2V0RGF0YS5zdGF0dXMgPSBcIlRvIERvXCI7XG4gICAgaWYgKCF0aWNrZXREYXRhLnByaW9yaXR5IHx8IHRpY2tldERhdGEucHJpb3JpdHkgPCAxIHx8IHRpY2tldERhdGEucHJpb3JpdHkgPiAzKSB7XG4gICAgICB0aWNrZXREYXRhLnByaW9yaXR5ID0gMjtcbiAgICB9XG4gICAgXG4gICAgLy8gVsOpcmlmaWVyIGxhIGxvbmd1ZXVyIGRlIGxhIGRlc2NyaXB0aW9uXG4gICAgaWYgKHRpY2tldERhdGEuZGVzY3JpcHRpb24ubGVuZ3RoID4gTUFYX0RFU0NSSVBUSU9OX0xFTkdUSCkge1xuICAgICAgY29uc29sZS5sb2coYERlc2NyaXB0aW9uIHRyb3AgbG9uZ3VlICgke3RpY2tldERhdGEuZGVzY3JpcHRpb24ubGVuZ3RofSBjYXJhY3TDqHJlcyksIHRyb25jYXR1cmUgw6AgJHtNQVhfREVTQ1JJUFRJT05fTEVOR1RIfWApO1xuICAgICAgdGlja2V0RGF0YS5kZXNjcmlwdGlvbiA9IHRpY2tldERhdGEuZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIE1BWF9ERVNDUklQVElPTl9MRU5HVEgpO1xuICAgIH1cbiAgICBcbiAgICAvLyBBam91dGVyIHVuZSBwcm9wcmnDqXTDqSBkZSB2YWxpZGF0aW9uIHBvdXIgw6l2aXRlciBsZXMgZXJyZXVyc1xuICAgIHRpY2tldERhdGEudmFsaWQgPSB0cnVlO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwiU291cy10aWNrZXQgZ8OpbsOpcsOpIGF2ZWMgc3VjY8OoczpcIiwge1xuICAgICAgdGl0bGU6IHRpY2tldERhdGEudGl0bGUsXG4gICAgICBwcmlvcml0eTogdGlja2V0RGF0YS5wcmlvcml0eSxcbiAgICAgIGRlc2NyaXB0aW9uTGVuZ3RoOiB0aWNrZXREYXRhLmRlc2NyaXB0aW9uLmxlbmd0aFxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB0aWNrZXREYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgbG9ycyBkZSBsYSBnw6luw6lyYXRpb24gZHUgc291cy10aWNrZXQ6XCIsIGVycm9yKTtcbiAgICBcbiAgICAvLyBDcsOpZXIgdW4gc291cy10aWNrZXQgcGFyIGTDqWZhdXQgZW4gY2FzIGQnZXJyZXVyIGfDqW7DqXJhbGVcbiAgICBjb25zdCBmYWxsYmFja1RpY2tldCA9IHtcbiAgICAgIHRpdGxlOiBgVGlja2V0IFguWCA6ICR7c3ViVGlja2V0RGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIDUwKX0uLi5gLFxuICAgICAgZGVzY3JpcHRpb246IGBTb3VzLXRpY2tldCBjcsOpw6kgw6AgcGFydGlyIGRlOiAke3N1YlRpY2tldERlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA0MDApfWAsXG4gICAgICBwcmlvcml0eTogMixcbiAgICAgIHN0YXR1czogXCJUbyBEb1wiLFxuICAgICAgdmFsaWQ6IHRydWVcbiAgICB9O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwiVXRpbGlzYXRpb24gZCd1biBzb3VzLXRpY2tldCBkZSBzZWNvdXJzIHN1aXRlIMOgIHVuZSBlcnJldXJcIik7XG4gICAgcmV0dXJuIGZhbGxiYWNrVGlja2V0O1xuICB9XG59XG4iXSwibmFtZXMiOlsiZ2VuZXJhdGVXaXRoR2VtaW5pIiwiZW5oYW5jZVByb2plY3REZXNjcmlwdGlvbiIsImdlbmVyYXRlRmVhdHVyZUlkZWFzIiwiZ2VuZXJhdGVQcm9qZWN0VGlja2V0cyIsImdlbmVyYXRlUHJvamVjdFRpY2tldHNGb3JtYXR0ZWQiLCJjcmVhdGVQcm9qZWN0VGlja2V0c0luREIiLCJnZW5lcmF0ZVN1YlRpY2tldFdpdGhBSSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/actions/gemini-integration.ts\n"));

/***/ })

});